<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../../lib/bootstrap/dist/css/bootstrap.css" />
    <script src="../../lib/jquery/dist/jquery.js"></script>
    <script src="../../lib/bootstrap/dist/js/bootstrap.js"></script>
    <link rel="stylesheet" href="../../css/sass_product/fui.min.css" />
    <link rel="stylesheet" href="../../css/sass_product/fui-animation.min.css" />
    <link rel="icon" href="../..//Resources/system/icon/icon.png" />
    <script src="../../lib/validation/jquery.validate.min.js"></script>
    <script src="../../lib/validation/messages_zh.js"></script>
    <script src="../../lib/validation/additional-methods.min.js"></script>
    <title>实验室安全教育在线-登录</title>
</head>
<body class=" bc-clr-primary">
    <div class="narbar-pc-fui bc-clr-white border-little-grey-all">
        <div class=" padding-15px container flex-layout  ">
            <div class=" flex-item-4 text-one-line-ellipsis  " data-line-height="280%">
                <span class="text-primary  font-size-20 font-weight-700">
                    SICNU 实验室安全教育
                </span>
                <small class=" text-muted font-size-13  ">四川师范大学实验室安全教育在线</small>
            </div>
            <div class=" flex-item-7 text-right float  ">
                <ul class="nav nav-pills float-right ">
                    <li role="presentation"><a href="#">系统公告</a></li>
                    <li role="presentation"><a href="#">使用帮助</a></li>
                    <li role="presentation"><a href="#">申请加入考试</a></li>
                    <li role="presentation"><a href="#">密码修改</a></li>
                    <li role="presentation" class="dropdown  ">
                        <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                            aria-expanded="false">
                            <span class="glyphicon glyphicon-user"></span>
                            登录/退出
                            <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li class=" padding-top-5px">
                                <a href="./Login.html" class=" letter-space-2  hover-text-center font-size-13"> <span
                                        class="glyphicon glyphicon-log-in"></span>
                                    登录 </a>
                            </li>
                            <li class=" padding-top-5px">
                                <a href="./Person.html" class=" letter-space-1  hover-text-center font-size-13"><span
                                        class="glyphicon glyphicon-home"></span>
                                    学生中心 </a>
                            </li>
                            <li class=" padding-top-5px">
                                <a href="./LoginError.html" class=" letter-space-1  hover-text-center font-size-13 ">
                                    <span class="glyphicon glyphicon-log-out"></span>
                                    退出登陆
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>

            </div>
        </div>
    </div>
    <nav class="narbar-mobile-fui navbar navbar-default navbar-fixed-top   bc-clr-white" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#example-navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">
                    <span class=" text-primary font-weight-700">SICNU 实验室安全教育</span></a>
            </div>
            <div class="collapse navbar-collapse " id="example-navbar-collapse">
                <ul class="nav navbar-nav ">
                    <li role="presentation"><a href="#"> <span class=" text-primary font-weight-500 ">系统公告</span> </a></li>
                    <li role="presentation"><a href="#"><span class=" text-primary font-weight-500 ">使用帮助</span></a></li>
                    <li role="presentation"><a href="#"><span class=" text-primary font-weight-500 ">申请加入考试</span></a></li>
                    <li role="presentation"><a href="#"><span class=" text-primary font-weight-500 ">密码修改</span></a></li>
                    <li role="presentation"><a href="#"><span class=" text-primary font-weight-500 ">用户登录</span></a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div class=" container" data-min-height="900">
        <div class=" margin-top-15px padding-15px bc-clr-white border-little-grey-all " data-min-height="70">
            <h4 class=" border-light-down padding-bottom-5px text-primary ">用户登录</h4>
            <form id="loginFrom" action="#" class="form-horizontal margin-top-20px" role="form" method="post">
                <div class="form-group">
                    <label for="StudentId" class="col-sm-2 control-label">学号</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" data-max-width="400" id="StudentId" name="StudentId"
                            placeholder="请输入你的学号">
                    </div>
                </div>
                <div class="form-group">
                    <label for="Password" class=" col-sm-2 control-label">密码</label>
                    <div class="col-sm-10">
                        <input type="password" class="form-control" data-max-width="400" id="Password" name="Password"
                            placeholder="请输入你的密码">
                    </div>
                </div>
                <div class="form-group ">
                    <label for="Validation" class="col-sm-2 control-label">验证码</label>
                    <div class="col-sm-10">
                        <input id="num1" type="text" value="5" class="border-radius-14 text-center" data-max-width="40" disabled
                            data-height="25">
                        <span class=" font-weight-700 "> + </span>
                        <input id="num2" type="text" value="5" class=" border-radius-14 text-center" data-max-width="40" disabled
                            data-height="25">
                        <span class=" font-weight-700 padding-left-10px "> = </span>
                        <input id="num3" type="number" value="" name="yzm" class="text-center border-radius-6 " data-min-width="195"
                            data-height="28">
                        <button type="button" id="ApplyNew" class="margin-left-10px btn btn-primary btn-sm "> <span class="
                            glyphicon glyphicon-hand-down"></span> 刷新</button>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="btn btn-primary form-control letter-space-1" data-max-width="400">
                            <span class=" glyphicon glyphicon-log-in ">
                            </span> 立即登录</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="modal fade mask" id="ShowError" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h5 class="modal-title text-primary" id="myModalLabel">
                            <span class=" glyphicon glyphicon-cloud-download "></span> <span class="  mask-module-title">提示信息</span>
                    </h5>
                </div>
                <div class="modal-body">
                    <p class=" font-weight-600 font-size-15 text-primary mask-module-content">账户已经存在！</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭
                    </button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">确定
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class=" margin-top-5px ">
        <div class=" bc-clr-white text-center  padding-10px">
            <a class=" font-weight-600 font-size-12 " href="#">Server Right 2019-2021 Support by 505 mobile lab</a>
            <a class=" font-weight-600 font-size-12 " href="#">四川师范大学 实验设备处 维护运行 </a>
            <a href="#" class="font-weight-600 font-size-12"> <span class="glyphicon glyphicon-search"></span> </a>
        </div>
    </div>
</body>
<script src="../../js/app.min.js"></script>
<script src="../../js/animation.min.js"></script>
<script>
    function getRandom() {
        let rand = Math.round(Math.random() * 20);
        let rand2 = Math.round(Math.random() * 20);
        $('#num1').val(rand);
        $('#num2').val(rand2);
    }
    getRandom();
    $(function () {
        $('#ApplyNew').on('click', null, null, getRandom);
        $("form").submit(function (jqEvent) {
            let UserName = parseInt($('#num1').val());
            let UserPassword = parseInt($('#num2').val());
            let result = UserName + UserPassword;
            let valnum3 = $('#num3').val();

            if (valnum3 == "" || valnum3 == null) {
                onMask("温馨提示", "请回答这种小学生题目！");
                jqEvent.preventDefault();
                return;
            }
            if (result == parseInt(valnum3)) {

            } else {
                onMask("气氛提示", "小学生的题目都不会！ 你还是一个大学生");
                jqEvent.preventDefault();
            }
        })

    })

    $(function () {
        $("form").validate({
            //错误提示信息
            messages: {
                StudentId: {
                    required: "请填写你的学号", //此方法在username控件上的所有验证规则提示都是设置的这个字符串
                    rangelength: "学号长度{0}到{1}之间"
                },
                Password: {
                    required: "密码不填写吗？",
                    
                }
            },
            //验证规则
            rules: {
                //使用空间 name 名称
                StudentId: {
                    required: true,
                    rangelength: [9, 15]
                },
                Password: {
                    required: true,
                }
            },
            errorClass: "text-warning",
            submitHandler: function (form) {
                $.get("Exists", {
                    AccountID: $('#UserName').val()
                }, function (data, textstatus, jqXHR) {
                    console.log(data);
                    if (data.isHave) {
                        $('#ShowError').modal("show");
                    } else {
                        form.submit();
                    }
                }, "json");
            }
        });
    });

</script>

</html>